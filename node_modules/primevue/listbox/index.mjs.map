{"version":3,"file":"index.mjs","sources":["../../src/listbox/BaseListbox.vue","../../src/listbox/Listbox.vue","../../src/listbox/Listbox.vue?vue&type=template&id=4a564af6&lang.js"],"sourcesContent":["<script>\nimport BaseEditableHolder from '@primevue/core/baseeditableholder';\nimport ListboxStyle from 'primevue/listbox/style';\n\nexport default {\n    name: 'BaseListbox',\n    extends: BaseEditableHolder,\n    props: {\n        options: Array,\n        optionLabel: null,\n        optionValue: null,\n        optionDisabled: null,\n        optionGroupLabel: null,\n        optionGroupChildren: null,\n        listStyle: null,\n        scrollHeight: {\n            type: String,\n            default: '14rem'\n        },\n        dataKey: null,\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        metaKeySelection: {\n            type: Boolean,\n            default: false\n        },\n        filter: Boolean,\n        filterPlaceholder: String,\n        filterLocale: String,\n        filterMatchMode: {\n            type: String,\n            default: 'contains'\n        },\n        filterFields: {\n            type: Array,\n            default: null\n        },\n        virtualScrollerOptions: {\n            type: Object,\n            default: null\n        },\n        autoOptionFocus: {\n            type: Boolean,\n            default: true\n        },\n        selectOnFocus: {\n            type: Boolean,\n            default: false\n        },\n        focusOnHover: {\n            type: Boolean,\n            default: true\n        },\n        highlightOnSelect: {\n            type: Boolean,\n            default: true\n        },\n        checkmark: {\n            type: Boolean,\n            default: false\n        },\n        filterMessage: {\n            type: String,\n            default: null\n        },\n        selectionMessage: {\n            type: String,\n            default: null\n        },\n        emptySelectionMessage: {\n            type: String,\n            default: null\n        },\n        emptyFilterMessage: {\n            type: String,\n            default: null\n        },\n        emptyMessage: {\n            type: String,\n            default: null\n        },\n        filterIcon: {\n            type: String,\n            default: undefined\n        },\n        striped: {\n            type: Boolean,\n            default: false\n        },\n        tabindex: {\n            type: Number,\n            default: 0\n        },\n        ariaLabel: {\n            type: String,\n            default: null\n        },\n        ariaLabelledby: {\n            type: String,\n            default: null\n        }\n    },\n    style: ListboxStyle,\n    provide() {\n        return {\n            $pcListbox: this,\n            $parentInstance: this\n        };\n    }\n};\n</script>\n","<template>\n    <div :id=\"$id\" :class=\"cx('root')\" @focusout=\"onFocusout\" v-bind=\"ptmi('root')\">\n        <span\n            ref=\"firstHiddenFocusableElement\"\n            role=\"presentation\"\n            aria-hidden=\"true\"\n            class=\"p-hidden-accessible p-hidden-focusable\"\n            :tabindex=\"!disabled ? tabindex : -1\"\n            @focus=\"onFirstHiddenFocus\"\n            v-bind=\"ptm('hiddenFirstFocusableEl')\"\n            :data-p-hidden-accessible=\"true\"\n            :data-p-hidden-focusable=\"true\"\n        ></span>\n        <div v-if=\"$slots.header\" :class=\"cx('header')\">\n            <slot name=\"header\" :value=\"d_value\" :options=\"visibleOptions\"></slot>\n        </div>\n        <div v-if=\"filter\" :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <IconField :unstyled=\"unstyled\" :pt=\"ptm('pcFilterContainer')\">\n                <InputText\n                    v-model=\"filterValue\"\n                    type=\"text\"\n                    :class=\"cx('pcFilter')\"\n                    :placeholder=\"filterPlaceholder\"\n                    role=\"searchbox\"\n                    autocomplete=\"off\"\n                    :disabled=\"disabled\"\n                    :unstyled=\"unstyled\"\n                    :aria-owns=\"$id + '_list'\"\n                    :aria-activedescendant=\"focusedOptionId\"\n                    :tabindex=\"!disabled && !focused ? tabindex : -1\"\n                    @input=\"onFilterChange\"\n                    @blur=\"onFilterBlur\"\n                    @keydown=\"onFilterKeyDown\"\n                    :pt=\"ptm('pcFilter')\"\n                />\n                <InputIcon :unstyled=\"unstyled\" :pt=\"ptm('pcFilterIconContainer')\">\n                    <slot name=\"filtericon\">\n                        <span v-if=\"filterIcon\" :class=\"filterIcon\" v-bind=\"ptm('filterIcon')\" />\n                        <SearchIcon v-else v-bind=\"ptm('filterIcon')\" />\n                    </slot>\n                </InputIcon>\n            </IconField>\n            <span role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenFilterResult')\" :data-p-hidden-accessible=\"true\">\n                {{ filterResultMessageText }}\n            </span>\n        </div>\n        <div :class=\"cx('listContainer')\" :style=\"[{ 'max-height': virtualScrollerDisabled ? scrollHeight : '' }, listStyle]\" v-bind=\"ptm('listContainer')\">\n            <VirtualScroller :ref=\"virtualScrollerRef\" v-bind=\"virtualScrollerOptions\" :items=\"visibleOptions\" :style=\"[{ height: scrollHeight }, listStyle]\" :tabindex=\"-1\" :disabled=\"virtualScrollerDisabled\" :pt=\"ptm('virtualScroller')\">\n                <template v-slot:content=\"{ styleClass, contentRef, items, getItemOptions, contentStyle, itemSize }\">\n                    <ul\n                        :ref=\"(el) => listRef(el, contentRef)\"\n                        :id=\"$id + '_list'\"\n                        :class=\"[cx('list'), styleClass]\"\n                        :style=\"contentStyle\"\n                        :tabindex=\"-1\"\n                        role=\"listbox\"\n                        :aria-multiselectable=\"multiple\"\n                        :aria-label=\"ariaLabel\"\n                        :aria-labelledby=\"ariaLabelledby\"\n                        :aria-activedescendant=\"focused ? focusedOptionId : undefined\"\n                        :aria-disabled=\"disabled\"\n                        @focus=\"onListFocus\"\n                        @blur=\"onListBlur\"\n                        @keydown=\"onListKeyDown\"\n                        v-bind=\"ptm('list')\"\n                    >\n                        <template v-for=\"(option, i) of items\" :key=\"getOptionRenderKey(option, getOptionIndex(i, getItemOptions))\">\n                            <li v-if=\"isOptionGroup(option)\" :id=\"$id + '_' + getOptionIndex(i, getItemOptions)\" :style=\"{ height: itemSize ? itemSize + 'px' : undefined }\" :class=\"cx('optionGroup')\" role=\"option\" v-bind=\"ptm('optionGroup')\">\n                                <slot name=\"optiongroup\" :option=\"option.optionGroup\" :index=\"getOptionIndex(i, getItemOptions)\">{{ getOptionGroupLabel(option.optionGroup) }}</slot>\n                            </li>\n                            <li\n                                v-else\n                                :id=\"$id + '_' + getOptionIndex(i, getItemOptions)\"\n                                v-ripple\n                                :style=\"{ height: itemSize ? itemSize + 'px' : undefined }\"\n                                :class=\"cx('option', { option, index: i, getItemOptions })\"\n                                role=\"option\"\n                                :aria-label=\"getOptionLabel(option)\"\n                                :aria-selected=\"isSelected(option)\"\n                                :aria-disabled=\"isOptionDisabled(option)\"\n                                :aria-setsize=\"ariaSetSize\"\n                                :aria-posinset=\"getAriaPosInset(getOptionIndex(i, getItemOptions))\"\n                                @click=\"onOptionSelect($event, option, getOptionIndex(i, getItemOptions))\"\n                                @mousedown=\"onOptionMouseDown($event, getOptionIndex(i, getItemOptions))\"\n                                @mousemove=\"onOptionMouseMove($event, getOptionIndex(i, getItemOptions))\"\n                                @touchend=\"onOptionTouchEnd()\"\n                                @dblclick=\"onOptionDblClick($event, option)\"\n                                v-bind=\"getPTOptions(option, getItemOptions, i, 'option')\"\n                                :data-p-selected=\"isSelected(option)\"\n                                :data-p-focused=\"focusedOptionIndex === getOptionIndex(i, getItemOptions)\"\n                                :data-p-disabled=\"isOptionDisabled(option)\"\n                            >\n                                <template v-if=\"checkmark\">\n                                    <CheckIcon v-if=\"isSelected(option)\" :class=\"cx('optionCheckIcon')\" v-bind=\"ptm('optionCheckIcon')\" />\n                                    <BlankIcon v-else :class=\"cx('optionBlankIcon')\" v-bind=\"ptm('optionBlankIcon')\" />\n                                </template>\n                                <slot name=\"option\" :option=\"option\" :selected=\"isSelected(option)\" :index=\"getOptionIndex(i, getItemOptions)\">{{ getOptionLabel(option) }}</slot>\n                            </li>\n                        </template>\n                        <li v-if=\"filterValue && (!items || (items && items.length === 0))\" :class=\"cx('emptyMessage')\" role=\"option\" v-bind=\"ptm('emptyMessage')\">\n                            <slot name=\"emptyfilter\">{{ emptyFilterMessageText }}</slot>\n                        </li>\n                        <li v-else-if=\"!options || (options && options.length === 0)\" :class=\"cx('emptyMessage')\" role=\"option\" v-bind=\"ptm('emptyMessage')\">\n                            <slot name=\"empty\">{{ emptyMessageText }}</slot>\n                        </li>\n                    </ul>\n                </template>\n                <template v-if=\"$slots.loader\" v-slot:loader=\"{ options }\">\n                    <slot name=\"loader\" :options=\"options\"></slot>\n                </template>\n            </VirtualScroller>\n        </div>\n        <slot name=\"footer\" :value=\"d_value\" :options=\"visibleOptions\"></slot>\n        <span v-if=\"!options || (options && options.length === 0)\" role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenEmptyMessage')\" :data-p-hidden-accessible=\"true\">\n            {{ emptyMessageText }}\n        </span>\n        <span role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenSelectedMessage')\" :data-p-hidden-accessible=\"true\">\n            {{ selectedMessageText }}\n        </span>\n        <span\n            ref=\"lastHiddenFocusableElement\"\n            role=\"presentation\"\n            aria-hidden=\"true\"\n            class=\"p-hidden-accessible p-hidden-focusable\"\n            :tabindex=\"!disabled ? tabindex : -1\"\n            @focus=\"onLastHiddenFocus\"\n            v-bind=\"ptm('hiddenLastFocusableEl')\"\n            :data-p-hidden-accessible=\"true\"\n            :data-p-hidden-focusable=\"true\"\n        ></span>\n    </div>\n</template>\n\n<script>\nimport { findSingle, focus, getFirstFocusableElement, isElement } from '@primeuix/utils/dom';\nimport { equals, findLastIndex, isNotEmpty, isPrintableCharacter, resolveFieldData } from '@primeuix/utils/object';\nimport { FilterService } from '@primevue/core/api';\nimport BlankIcon from '@primevue/icons/blank';\nimport CheckIcon from '@primevue/icons/check';\nimport SearchIcon from '@primevue/icons/search';\nimport IconField from 'primevue/iconfield';\nimport InputIcon from 'primevue/inputicon';\nimport InputText from 'primevue/inputtext';\nimport Ripple from 'primevue/ripple';\nimport VirtualScroller from 'primevue/virtualscroller';\nimport BaseListbox from './BaseListbox.vue';\n\nexport default {\n    name: 'Listbox',\n    extends: BaseListbox,\n    inheritAttrs: false,\n    emits: ['change', 'focus', 'blur', 'filter', 'item-dblclick', 'option-dblclick'],\n    list: null,\n    virtualScroller: null,\n    optionTouched: false,\n    startRangeIndex: -1,\n    searchTimeout: null,\n    searchValue: '',\n    data() {\n        return {\n            filterValue: null,\n            focused: false,\n            focusedOptionIndex: -1\n        };\n    },\n    watch: {\n        options() {\n            this.autoUpdateModel();\n        }\n    },\n    mounted() {\n        this.autoUpdateModel();\n    },\n    methods: {\n        getOptionIndex(index, fn) {\n            return this.virtualScrollerDisabled ? index : fn && fn(index)['index'];\n        },\n        getOptionLabel(option) {\n            return this.optionLabel ? resolveFieldData(option, this.optionLabel) : typeof option === 'string' ? option : null;\n        },\n        getOptionValue(option) {\n            return this.optionValue ? resolveFieldData(option, this.optionValue) : option;\n        },\n        getOptionRenderKey(option, index) {\n            return (this.dataKey ? resolveFieldData(option, this.dataKey) : this.getOptionLabel(option)) + '_' + index;\n        },\n        getPTOptions(option, itemOptions, index, key) {\n            return this.ptm(key, {\n                context: {\n                    selected: this.isSelected(option),\n                    focused: this.focusedOptionIndex === this.getOptionIndex(index, itemOptions),\n                    disabled: this.isOptionDisabled(option)\n                }\n            });\n        },\n        isOptionDisabled(option) {\n            return this.optionDisabled ? resolveFieldData(option, this.optionDisabled) : false;\n        },\n        isOptionGroup(option) {\n            return this.optionGroupLabel && option.optionGroup && option.group;\n        },\n        getOptionGroupLabel(optionGroup) {\n            return resolveFieldData(optionGroup, this.optionGroupLabel);\n        },\n        getOptionGroupChildren(optionGroup) {\n            return resolveFieldData(optionGroup, this.optionGroupChildren);\n        },\n        getAriaPosInset(index) {\n            return (this.optionGroupLabel ? index - this.visibleOptions.slice(0, index).filter((option) => this.isOptionGroup(option)).length : index) + 1;\n        },\n        onFirstHiddenFocus() {\n            focus(this.list);\n\n            const firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n\n            this.$refs.lastHiddenFocusableElement.tabIndex = isElement(firstFocusableEl) ? undefined : -1;\n            this.$refs.firstHiddenFocusableElement.tabIndex = -1;\n        },\n        onLastHiddenFocus(event) {\n            const relatedTarget = event.relatedTarget;\n\n            if (relatedTarget === this.list) {\n                const firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n\n                focus(firstFocusableEl);\n                this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n            } else {\n                focus(this.$refs.firstHiddenFocusableElement);\n            }\n\n            this.$refs.lastHiddenFocusableElement.tabIndex = -1;\n        },\n        onFocusout(event) {\n            if (!this.$el.contains(event.relatedTarget) && this.$refs.lastHiddenFocusableElement && this.$refs.firstHiddenFocusableElement) {\n                this.$refs.lastHiddenFocusableElement.tabIndex = this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n            }\n        },\n        onListFocus(event) {\n            this.focused = true;\n            this.focusedOptionIndex = this.focusedOptionIndex !== -1 ? this.focusedOptionIndex : this.autoOptionFocus ? this.findFirstFocusedOptionIndex() : this.findSelectedOptionIndex();\n            this.autoUpdateModel();\n            this.$emit('focus', event);\n        },\n        onListBlur(event) {\n            this.focused = false;\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n            this.searchValue = '';\n            this.$emit('blur', event);\n        },\n        onListKeyDown(event) {\n            const metaKey = event.metaKey || event.ctrlKey;\n\n            switch (event.code) {\n                case 'ArrowDown':\n                    this.onArrowDownKey(event);\n                    break;\n\n                case 'ArrowUp':\n                    this.onArrowUpKey(event);\n                    break;\n\n                case 'Home':\n                    this.onHomeKey(event);\n                    break;\n\n                case 'End':\n                    this.onEndKey(event);\n                    break;\n\n                case 'PageDown':\n                    this.onPageDownKey(event);\n                    break;\n\n                case 'PageUp':\n                    this.onPageUpKey(event);\n                    break;\n\n                case 'Enter':\n                case 'NumpadEnter':\n                case 'Space':\n                    this.onSpaceKey(event);\n                    break;\n\n                case 'Tab':\n                    //NOOP\n                    break;\n\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    this.onShiftKey(event);\n                    break;\n\n                default:\n                    if (this.multiple && event.code === 'KeyA' && metaKey) {\n                        const value = this.visibleOptions.filter((option) => this.isValidOption(option)).map((option) => this.getOptionValue(option));\n\n                        this.updateModel(event, value);\n\n                        event.preventDefault();\n                        break;\n                    }\n\n                    if (!metaKey && isPrintableCharacter(event.key)) {\n                        this.searchOptions(event, event.key);\n                        event.preventDefault();\n                    }\n\n                    break;\n            }\n        },\n        onOptionSelect(event, option, index = -1) {\n            if (this.disabled || this.isOptionDisabled(option)) {\n                return;\n            }\n\n            this.multiple ? this.onOptionSelectMultiple(event, option) : this.onOptionSelectSingle(event, option);\n            this.optionTouched = false;\n            index !== -1 && (this.focusedOptionIndex = index);\n        },\n        onOptionMouseDown(event, index) {\n            this.changeFocusedOptionIndex(event, index);\n        },\n        onOptionMouseMove(event, index) {\n            if (this.focusOnHover && this.focused) {\n                this.changeFocusedOptionIndex(event, index);\n            }\n        },\n        onOptionTouchEnd() {\n            if (this.disabled) {\n                return;\n            }\n\n            this.optionTouched = true;\n        },\n        onOptionDblClick(event, item) {\n            this.$emit('item-dblclick', {\n                originalEvent: event,\n                value: item\n            });\n            this.$emit('option-dblclick', {\n                originalEvent: event,\n                value: item\n            });\n        },\n        onOptionSelectSingle(event, option) {\n            let selected = this.isSelected(option);\n            let valueChanged = false;\n            let value = null;\n            let metaSelection = this.optionTouched ? false : this.metaKeySelection;\n\n            if (metaSelection) {\n                let metaKey = event && (event.metaKey || event.ctrlKey);\n\n                if (selected) {\n                    if (metaKey) {\n                        value = null;\n                        valueChanged = true;\n                    }\n                } else {\n                    value = this.getOptionValue(option);\n                    valueChanged = true;\n                }\n            } else {\n                value = selected ? null : this.getOptionValue(option);\n                valueChanged = true;\n            }\n\n            if (valueChanged) {\n                this.updateModel(event, value);\n            }\n        },\n        onOptionSelectMultiple(event, option) {\n            let selected = this.isSelected(option);\n            let value = null;\n            let metaSelection = this.optionTouched ? false : this.metaKeySelection;\n\n            if (metaSelection) {\n                let metaKey = event.metaKey || event.ctrlKey;\n\n                if (selected) {\n                    value = metaKey ? this.removeOption(option) : [this.getOptionValue(option)];\n                } else {\n                    value = metaKey ? this.d_value || [] : [];\n                    value = [...value, this.getOptionValue(option)];\n                }\n            } else {\n                value = selected ? this.removeOption(option) : [...(this.d_value || []), this.getOptionValue(option)];\n            }\n\n            this.updateModel(event, value);\n        },\n        onOptionSelectRange(event, start = -1, end = -1) {\n            start === -1 && (start = this.findNearestSelectedOptionIndex(end, true));\n            end === -1 && (end = this.findNearestSelectedOptionIndex(start));\n\n            if (start !== -1 && end !== -1) {\n                const rangeStart = Math.min(start, end);\n                const rangeEnd = Math.max(start, end);\n                const value = this.visibleOptions\n                    .slice(rangeStart, rangeEnd + 1)\n                    .filter((option) => this.isValidOption(option))\n                    .map((option) => this.getOptionValue(option));\n\n                this.updateModel(event, value);\n            }\n        },\n        onFilterChange(event) {\n            this.$emit('filter', { originalEvent: event, value: event.target.value, filterValue: this.visibleOptions });\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n        },\n        onFilterBlur() {\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n        },\n        onFilterKeyDown(event) {\n            switch (event.code) {\n                case 'ArrowDown':\n                    this.onArrowDownKey(event);\n                    break;\n\n                case 'ArrowUp':\n                    this.onArrowUpKey(event);\n                    break;\n\n                case 'ArrowLeft':\n                case 'ArrowRight':\n                    this.onArrowLeftKey(event, true);\n                    break;\n\n                case 'Home':\n                    this.onHomeKey(event, true);\n                    break;\n\n                case 'End':\n                    this.onEndKey(event, true);\n                    break;\n\n                case 'Enter':\n                case 'NumpadEnter':\n                    this.onEnterKey(event);\n                    break;\n\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    this.onShiftKey(event);\n                    break;\n\n                default:\n                    break;\n            }\n        },\n        onArrowDownKey(event) {\n            const optionIndex = this.focusedOptionIndex !== -1 ? this.findNextOptionIndex(this.focusedOptionIndex) : this.findFirstFocusedOptionIndex();\n\n            if (this.multiple && event.shiftKey) {\n                this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n            }\n\n            this.changeFocusedOptionIndex(event, optionIndex);\n            event.preventDefault();\n        },\n        onArrowUpKey(event) {\n            const optionIndex = this.focusedOptionIndex !== -1 ? this.findPrevOptionIndex(this.focusedOptionIndex) : this.findLastFocusedOptionIndex();\n\n            if (this.multiple && event.shiftKey) {\n                this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n            }\n\n            this.changeFocusedOptionIndex(event, optionIndex);\n            event.preventDefault();\n        },\n        onArrowLeftKey(event, pressedInInputText = false) {\n            pressedInInputText && (this.focusedOptionIndex = -1);\n        },\n        onHomeKey(event, pressedInInputText = false) {\n            if (pressedInInputText) {\n                const target = event.currentTarget;\n\n                if (event.shiftKey) {\n                    target.setSelectionRange(0, event.target.selectionStart);\n                } else {\n                    target.setSelectionRange(0, 0);\n                    this.focusedOptionIndex = -1;\n                }\n            } else {\n                let metaKey = event.metaKey || event.ctrlKey;\n                let optionIndex = this.findFirstOptionIndex();\n\n                if (this.multiple && event.shiftKey && metaKey) {\n                    this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n                }\n\n                this.changeFocusedOptionIndex(event, optionIndex);\n            }\n\n            event.preventDefault();\n        },\n        onEndKey(event, pressedInInputText = false) {\n            if (pressedInInputText) {\n                const target = event.currentTarget;\n\n                if (event.shiftKey) {\n                    target.setSelectionRange(event.target.selectionStart, target.value.length);\n                } else {\n                    const len = target.value.length;\n\n                    target.setSelectionRange(len, len);\n                    this.focusedOptionIndex = -1;\n                }\n            } else {\n                let metaKey = event.metaKey || event.ctrlKey;\n                let optionIndex = this.findLastOptionIndex();\n\n                if (this.multiple && event.shiftKey && metaKey) {\n                    this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n                }\n\n                this.changeFocusedOptionIndex(event, optionIndex);\n            }\n\n            event.preventDefault();\n        },\n        onPageUpKey(event) {\n            this.scrollInView(0);\n            event.preventDefault();\n        },\n        onPageDownKey(event) {\n            this.scrollInView(this.visibleOptions.length - 1);\n            event.preventDefault();\n        },\n        onEnterKey(event) {\n            if (this.focusedOptionIndex !== -1) {\n                if (this.multiple && event.shiftKey) this.onOptionSelectRange(event, this.focusedOptionIndex);\n                else this.onOptionSelect(event, this.visibleOptions[this.focusedOptionIndex]);\n            }\n        },\n        onSpaceKey(event) {\n            event.preventDefault();\n            this.onEnterKey(event);\n        },\n        onShiftKey() {\n            this.startRangeIndex = this.focusedOptionIndex;\n        },\n        isOptionMatched(option) {\n            return this.isValidOption(option) && typeof this.getOptionLabel(option) === 'string' && this.getOptionLabel(option)?.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale));\n        },\n        isValidOption(option) {\n            return isNotEmpty(option) && !(this.isOptionDisabled(option) || this.isOptionGroup(option));\n        },\n        isValidSelectedOption(option) {\n            return this.isValidOption(option) && this.isSelected(option);\n        },\n        isEquals(value1, value2) {\n            return equals(value1, value2, this.equalityKey);\n        },\n        isSelected(option) {\n            const optionValue = this.getOptionValue(option);\n\n            if (this.multiple) return (this.d_value || []).some((value) => this.isEquals(value, optionValue));\n            else return this.isEquals(this.d_value, optionValue);\n        },\n        findFirstOptionIndex() {\n            return this.visibleOptions.findIndex((option) => this.isValidOption(option));\n        },\n        findLastOptionIndex() {\n            return findLastIndex(this.visibleOptions, (option) => this.isValidOption(option));\n        },\n        findNextOptionIndex(index) {\n            const matchedOptionIndex = index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex((option) => this.isValidOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : index;\n        },\n        findPrevOptionIndex(index) {\n            const matchedOptionIndex = index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), (option) => this.isValidOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n        },\n        findSelectedOptionIndex() {\n            if (this.$filled) {\n                if (this.multiple) {\n                    for (let index = this.d_value.length - 1; index >= 0; index--) {\n                        const value = this.d_value[index];\n                        const matchedOptionIndex = this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option) && this.isEquals(value, this.getOptionValue(option)));\n\n                        if (matchedOptionIndex > -1) return matchedOptionIndex;\n                    }\n                } else {\n                    return this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option));\n                }\n            }\n\n            return -1;\n        },\n        findFirstSelectedOptionIndex() {\n            return this.$filled ? this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option)) : -1;\n        },\n        findLastSelectedOptionIndex() {\n            return this.$filled ? findLastIndex(this.visibleOptions, (option) => this.isValidSelectedOption(option)) : -1;\n        },\n        findNextSelectedOptionIndex(index) {\n            const matchedOptionIndex = this.$filled && index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex((option) => this.isValidSelectedOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : -1;\n        },\n        findPrevSelectedOptionIndex(index) {\n            const matchedOptionIndex = this.$filled && index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), (option) => this.isValidSelectedOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : -1;\n        },\n        findNearestSelectedOptionIndex(index, firstCheckUp = false) {\n            let matchedOptionIndex = -1;\n\n            if (this.$filled) {\n                if (firstCheckUp) {\n                    matchedOptionIndex = this.findPrevSelectedOptionIndex(index);\n                    matchedOptionIndex = matchedOptionIndex === -1 ? this.findNextSelectedOptionIndex(index) : matchedOptionIndex;\n                } else {\n                    matchedOptionIndex = this.findNextSelectedOptionIndex(index);\n                    matchedOptionIndex = matchedOptionIndex === -1 ? this.findPrevSelectedOptionIndex(index) : matchedOptionIndex;\n                }\n            }\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n        },\n        findFirstFocusedOptionIndex() {\n            const selectedIndex = this.findFirstSelectedOptionIndex();\n\n            return selectedIndex < 0 ? this.findFirstOptionIndex() : selectedIndex;\n        },\n        findLastFocusedOptionIndex() {\n            const selectedIndex = this.findLastSelectedOptionIndex();\n\n            return selectedIndex < 0 ? this.findLastOptionIndex() : selectedIndex;\n        },\n        searchOptions(event, char) {\n            this.searchValue = (this.searchValue || '') + char;\n\n            let optionIndex = -1;\n\n            if (isNotEmpty(this.searchValue)) {\n                if (this.focusedOptionIndex !== -1) {\n                    optionIndex = this.visibleOptions.slice(this.focusedOptionIndex).findIndex((option) => this.isOptionMatched(option));\n                    optionIndex = optionIndex === -1 ? this.visibleOptions.slice(0, this.focusedOptionIndex).findIndex((option) => this.isOptionMatched(option)) : optionIndex + this.focusedOptionIndex;\n                } else {\n                    optionIndex = this.visibleOptions.findIndex((option) => this.isOptionMatched(option));\n                }\n\n                if (optionIndex === -1 && this.focusedOptionIndex === -1) {\n                    optionIndex = this.findFirstFocusedOptionIndex();\n                }\n\n                if (optionIndex !== -1) {\n                    this.changeFocusedOptionIndex(event, optionIndex);\n                }\n            }\n\n            if (this.searchTimeout) {\n                clearTimeout(this.searchTimeout);\n            }\n\n            this.searchTimeout = setTimeout(() => {\n                this.searchValue = '';\n                this.searchTimeout = null;\n            }, 500);\n        },\n        removeOption(option) {\n            return this.d_value.filter((val) => !equals(val, this.getOptionValue(option), this.equalityKey));\n        },\n        changeFocusedOptionIndex(event, index) {\n            if (this.focusedOptionIndex !== index) {\n                this.focusedOptionIndex = index;\n                this.scrollInView();\n\n                if (this.selectOnFocus && !this.multiple) {\n                    this.onOptionSelect(event, this.visibleOptions[index]);\n                }\n            }\n        },\n        scrollInView(index = -1) {\n            this.$nextTick(() => {\n                const id = index !== -1 ? `${this.$id}_${index}` : this.focusedOptionId;\n                const element = findSingle(this.list, `li[id=\"${id}\"]`);\n\n                if (element) {\n                    element.scrollIntoView && element.scrollIntoView({ block: 'nearest', inline: 'nearest', behavior: 'smooth' });\n                } else if (!this.virtualScrollerDisabled) {\n                    this.virtualScroller && this.virtualScroller.scrollToIndex(index !== -1 ? index : this.focusedOptionIndex);\n                }\n            });\n        },\n        autoUpdateModel() {\n            if (this.selectOnFocus && this.autoOptionFocus && !this.$filled && !this.multiple && this.focused) {\n                this.focusedOptionIndex = this.findFirstFocusedOptionIndex();\n                this.onOptionSelect(null, this.visibleOptions[this.focusedOptionIndex]);\n            }\n        },\n        updateModel(event, value) {\n            this.writeValue(value, event);\n            this.$emit('change', { originalEvent: event, value });\n        },\n        listRef(el, contentRef) {\n            this.list = el;\n            contentRef && contentRef(el); // For VirtualScroller\n        },\n        virtualScrollerRef(el) {\n            this.virtualScroller = el;\n        }\n    },\n    computed: {\n        optionsListFlat() {\n            return this.filterValue ? FilterService.filter(this.options, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : this.options;\n        },\n        optionsListGroup() {\n            const filteredOptions = [];\n\n            (this.options || []).forEach((optionGroup) => {\n                const optionGroupChildren = this.getOptionGroupChildren(optionGroup) || [];\n                const filteredChildren = this.filterValue ? FilterService.filter(optionGroupChildren, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : optionGroupChildren;\n\n                if (filteredChildren?.length) {\n                    filteredOptions.push({ optionGroup, group: true }, ...filteredChildren);\n                }\n            });\n\n            return filteredOptions;\n        },\n        visibleOptions() {\n            return this.optionGroupLabel ? this.optionsListGroup : this.optionsListFlat;\n        },\n        // @deprecated use $filled instead\n        hasSelectedOption() {\n            return isNotEmpty(this.d_value);\n        },\n        equalityKey() {\n            return this.optionValue ? null : this.dataKey;\n        },\n        searchFields() {\n            return this.filterFields || [this.optionLabel];\n        },\n        filterResultMessageText() {\n            return isNotEmpty(this.visibleOptions) ? this.filterMessageText.replaceAll('{0}', this.visibleOptions.length) : this.emptyFilterMessageText;\n        },\n        filterMessageText() {\n            return this.filterMessage || this.$primevue.config.locale.searchMessage || '';\n        },\n        emptyFilterMessageText() {\n            return this.emptyFilterMessage || this.$primevue.config.locale.emptySearchMessage || this.$primevue.config.locale.emptyFilterMessage || '';\n        },\n        emptyMessageText() {\n            return this.emptyMessage || this.$primevue.config.locale.emptyMessage || '';\n        },\n        selectionMessageText() {\n            return this.selectionMessage || this.$primevue.config.locale.selectionMessage || '';\n        },\n        emptySelectionMessageText() {\n            return this.emptySelectionMessage || this.$primevue.config.locale.emptySelectionMessage || '';\n        },\n        selectedMessageText() {\n            return this.$filled ? this.selectionMessageText.replaceAll('{0}', this.multiple ? this.d_value.length : '1') : this.emptySelectionMessageText;\n        },\n        focusedOptionId() {\n            return this.focusedOptionIndex !== -1 ? `${this.$id}_${this.focusedOptionIndex}` : null;\n        },\n        ariaSetSize() {\n            return this.visibleOptions.filter((option) => !this.isOptionGroup(option)).length;\n        },\n        virtualScrollerDisabled() {\n            return !this.virtualScrollerOptions;\n        }\n    },\n    directives: {\n        ripple: Ripple\n    },\n    components: {\n        InputText,\n        VirtualScroller,\n        InputIcon,\n        IconField,\n        SearchIcon,\n        CheckIcon,\n        BlankIcon\n    }\n};\n</script>\n","<template>\n    <div :id=\"$id\" :class=\"cx('root')\" @focusout=\"onFocusout\" v-bind=\"ptmi('root')\">\n        <span\n            ref=\"firstHiddenFocusableElement\"\n            role=\"presentation\"\n            aria-hidden=\"true\"\n            class=\"p-hidden-accessible p-hidden-focusable\"\n            :tabindex=\"!disabled ? tabindex : -1\"\n            @focus=\"onFirstHiddenFocus\"\n            v-bind=\"ptm('hiddenFirstFocusableEl')\"\n            :data-p-hidden-accessible=\"true\"\n            :data-p-hidden-focusable=\"true\"\n        ></span>\n        <div v-if=\"$slots.header\" :class=\"cx('header')\">\n            <slot name=\"header\" :value=\"d_value\" :options=\"visibleOptions\"></slot>\n        </div>\n        <div v-if=\"filter\" :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <IconField :unstyled=\"unstyled\" :pt=\"ptm('pcFilterContainer')\">\n                <InputText\n                    v-model=\"filterValue\"\n                    type=\"text\"\n                    :class=\"cx('pcFilter')\"\n                    :placeholder=\"filterPlaceholder\"\n                    role=\"searchbox\"\n                    autocomplete=\"off\"\n                    :disabled=\"disabled\"\n                    :unstyled=\"unstyled\"\n                    :aria-owns=\"$id + '_list'\"\n                    :aria-activedescendant=\"focusedOptionId\"\n                    :tabindex=\"!disabled && !focused ? tabindex : -1\"\n                    @input=\"onFilterChange\"\n                    @blur=\"onFilterBlur\"\n                    @keydown=\"onFilterKeyDown\"\n                    :pt=\"ptm('pcFilter')\"\n                />\n                <InputIcon :unstyled=\"unstyled\" :pt=\"ptm('pcFilterIconContainer')\">\n                    <slot name=\"filtericon\">\n                        <span v-if=\"filterIcon\" :class=\"filterIcon\" v-bind=\"ptm('filterIcon')\" />\n                        <SearchIcon v-else v-bind=\"ptm('filterIcon')\" />\n                    </slot>\n                </InputIcon>\n            </IconField>\n            <span role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenFilterResult')\" :data-p-hidden-accessible=\"true\">\n                {{ filterResultMessageText }}\n            </span>\n        </div>\n        <div :class=\"cx('listContainer')\" :style=\"[{ 'max-height': virtualScrollerDisabled ? scrollHeight : '' }, listStyle]\" v-bind=\"ptm('listContainer')\">\n            <VirtualScroller :ref=\"virtualScrollerRef\" v-bind=\"virtualScrollerOptions\" :items=\"visibleOptions\" :style=\"[{ height: scrollHeight }, listStyle]\" :tabindex=\"-1\" :disabled=\"virtualScrollerDisabled\" :pt=\"ptm('virtualScroller')\">\n                <template v-slot:content=\"{ styleClass, contentRef, items, getItemOptions, contentStyle, itemSize }\">\n                    <ul\n                        :ref=\"(el) => listRef(el, contentRef)\"\n                        :id=\"$id + '_list'\"\n                        :class=\"[cx('list'), styleClass]\"\n                        :style=\"contentStyle\"\n                        :tabindex=\"-1\"\n                        role=\"listbox\"\n                        :aria-multiselectable=\"multiple\"\n                        :aria-label=\"ariaLabel\"\n                        :aria-labelledby=\"ariaLabelledby\"\n                        :aria-activedescendant=\"focused ? focusedOptionId : undefined\"\n                        :aria-disabled=\"disabled\"\n                        @focus=\"onListFocus\"\n                        @blur=\"onListBlur\"\n                        @keydown=\"onListKeyDown\"\n                        v-bind=\"ptm('list')\"\n                    >\n                        <template v-for=\"(option, i) of items\" :key=\"getOptionRenderKey(option, getOptionIndex(i, getItemOptions))\">\n                            <li v-if=\"isOptionGroup(option)\" :id=\"$id + '_' + getOptionIndex(i, getItemOptions)\" :style=\"{ height: itemSize ? itemSize + 'px' : undefined }\" :class=\"cx('optionGroup')\" role=\"option\" v-bind=\"ptm('optionGroup')\">\n                                <slot name=\"optiongroup\" :option=\"option.optionGroup\" :index=\"getOptionIndex(i, getItemOptions)\">{{ getOptionGroupLabel(option.optionGroup) }}</slot>\n                            </li>\n                            <li\n                                v-else\n                                :id=\"$id + '_' + getOptionIndex(i, getItemOptions)\"\n                                v-ripple\n                                :style=\"{ height: itemSize ? itemSize + 'px' : undefined }\"\n                                :class=\"cx('option', { option, index: i, getItemOptions })\"\n                                role=\"option\"\n                                :aria-label=\"getOptionLabel(option)\"\n                                :aria-selected=\"isSelected(option)\"\n                                :aria-disabled=\"isOptionDisabled(option)\"\n                                :aria-setsize=\"ariaSetSize\"\n                                :aria-posinset=\"getAriaPosInset(getOptionIndex(i, getItemOptions))\"\n                                @click=\"onOptionSelect($event, option, getOptionIndex(i, getItemOptions))\"\n                                @mousedown=\"onOptionMouseDown($event, getOptionIndex(i, getItemOptions))\"\n                                @mousemove=\"onOptionMouseMove($event, getOptionIndex(i, getItemOptions))\"\n                                @touchend=\"onOptionTouchEnd()\"\n                                @dblclick=\"onOptionDblClick($event, option)\"\n                                v-bind=\"getPTOptions(option, getItemOptions, i, 'option')\"\n                                :data-p-selected=\"isSelected(option)\"\n                                :data-p-focused=\"focusedOptionIndex === getOptionIndex(i, getItemOptions)\"\n                                :data-p-disabled=\"isOptionDisabled(option)\"\n                            >\n                                <template v-if=\"checkmark\">\n                                    <CheckIcon v-if=\"isSelected(option)\" :class=\"cx('optionCheckIcon')\" v-bind=\"ptm('optionCheckIcon')\" />\n                                    <BlankIcon v-else :class=\"cx('optionBlankIcon')\" v-bind=\"ptm('optionBlankIcon')\" />\n                                </template>\n                                <slot name=\"option\" :option=\"option\" :selected=\"isSelected(option)\" :index=\"getOptionIndex(i, getItemOptions)\">{{ getOptionLabel(option) }}</slot>\n                            </li>\n                        </template>\n                        <li v-if=\"filterValue && (!items || (items && items.length === 0))\" :class=\"cx('emptyMessage')\" role=\"option\" v-bind=\"ptm('emptyMessage')\">\n                            <slot name=\"emptyfilter\">{{ emptyFilterMessageText }}</slot>\n                        </li>\n                        <li v-else-if=\"!options || (options && options.length === 0)\" :class=\"cx('emptyMessage')\" role=\"option\" v-bind=\"ptm('emptyMessage')\">\n                            <slot name=\"empty\">{{ emptyMessageText }}</slot>\n                        </li>\n                    </ul>\n                </template>\n                <template v-if=\"$slots.loader\" v-slot:loader=\"{ options }\">\n                    <slot name=\"loader\" :options=\"options\"></slot>\n                </template>\n            </VirtualScroller>\n        </div>\n        <slot name=\"footer\" :value=\"d_value\" :options=\"visibleOptions\"></slot>\n        <span v-if=\"!options || (options && options.length === 0)\" role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenEmptyMessage')\" :data-p-hidden-accessible=\"true\">\n            {{ emptyMessageText }}\n        </span>\n        <span role=\"status\" aria-live=\"polite\" class=\"p-hidden-accessible\" v-bind=\"ptm('hiddenSelectedMessage')\" :data-p-hidden-accessible=\"true\">\n            {{ selectedMessageText }}\n        </span>\n        <span\n            ref=\"lastHiddenFocusableElement\"\n            role=\"presentation\"\n            aria-hidden=\"true\"\n            class=\"p-hidden-accessible p-hidden-focusable\"\n            :tabindex=\"!disabled ? tabindex : -1\"\n            @focus=\"onLastHiddenFocus\"\n            v-bind=\"ptm('hiddenLastFocusableEl')\"\n            :data-p-hidden-accessible=\"true\"\n            :data-p-hidden-focusable=\"true\"\n        ></span>\n    </div>\n</template>\n\n<script>\nimport { findSingle, focus, getFirstFocusableElement, isElement } from '@primeuix/utils/dom';\nimport { equals, findLastIndex, isNotEmpty, isPrintableCharacter, resolveFieldData } from '@primeuix/utils/object';\nimport { FilterService } from '@primevue/core/api';\nimport BlankIcon from '@primevue/icons/blank';\nimport CheckIcon from '@primevue/icons/check';\nimport SearchIcon from '@primevue/icons/search';\nimport IconField from 'primevue/iconfield';\nimport InputIcon from 'primevue/inputicon';\nimport InputText from 'primevue/inputtext';\nimport Ripple from 'primevue/ripple';\nimport VirtualScroller from 'primevue/virtualscroller';\nimport BaseListbox from './BaseListbox.vue';\n\nexport default {\n    name: 'Listbox',\n    extends: BaseListbox,\n    inheritAttrs: false,\n    emits: ['change', 'focus', 'blur', 'filter', 'item-dblclick', 'option-dblclick'],\n    list: null,\n    virtualScroller: null,\n    optionTouched: false,\n    startRangeIndex: -1,\n    searchTimeout: null,\n    searchValue: '',\n    data() {\n        return {\n            filterValue: null,\n            focused: false,\n            focusedOptionIndex: -1\n        };\n    },\n    watch: {\n        options() {\n            this.autoUpdateModel();\n        }\n    },\n    mounted() {\n        this.autoUpdateModel();\n    },\n    methods: {\n        getOptionIndex(index, fn) {\n            return this.virtualScrollerDisabled ? index : fn && fn(index)['index'];\n        },\n        getOptionLabel(option) {\n            return this.optionLabel ? resolveFieldData(option, this.optionLabel) : typeof option === 'string' ? option : null;\n        },\n        getOptionValue(option) {\n            return this.optionValue ? resolveFieldData(option, this.optionValue) : option;\n        },\n        getOptionRenderKey(option, index) {\n            return (this.dataKey ? resolveFieldData(option, this.dataKey) : this.getOptionLabel(option)) + '_' + index;\n        },\n        getPTOptions(option, itemOptions, index, key) {\n            return this.ptm(key, {\n                context: {\n                    selected: this.isSelected(option),\n                    focused: this.focusedOptionIndex === this.getOptionIndex(index, itemOptions),\n                    disabled: this.isOptionDisabled(option)\n                }\n            });\n        },\n        isOptionDisabled(option) {\n            return this.optionDisabled ? resolveFieldData(option, this.optionDisabled) : false;\n        },\n        isOptionGroup(option) {\n            return this.optionGroupLabel && option.optionGroup && option.group;\n        },\n        getOptionGroupLabel(optionGroup) {\n            return resolveFieldData(optionGroup, this.optionGroupLabel);\n        },\n        getOptionGroupChildren(optionGroup) {\n            return resolveFieldData(optionGroup, this.optionGroupChildren);\n        },\n        getAriaPosInset(index) {\n            return (this.optionGroupLabel ? index - this.visibleOptions.slice(0, index).filter((option) => this.isOptionGroup(option)).length : index) + 1;\n        },\n        onFirstHiddenFocus() {\n            focus(this.list);\n\n            const firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n\n            this.$refs.lastHiddenFocusableElement.tabIndex = isElement(firstFocusableEl) ? undefined : -1;\n            this.$refs.firstHiddenFocusableElement.tabIndex = -1;\n        },\n        onLastHiddenFocus(event) {\n            const relatedTarget = event.relatedTarget;\n\n            if (relatedTarget === this.list) {\n                const firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n\n                focus(firstFocusableEl);\n                this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n            } else {\n                focus(this.$refs.firstHiddenFocusableElement);\n            }\n\n            this.$refs.lastHiddenFocusableElement.tabIndex = -1;\n        },\n        onFocusout(event) {\n            if (!this.$el.contains(event.relatedTarget) && this.$refs.lastHiddenFocusableElement && this.$refs.firstHiddenFocusableElement) {\n                this.$refs.lastHiddenFocusableElement.tabIndex = this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n            }\n        },\n        onListFocus(event) {\n            this.focused = true;\n            this.focusedOptionIndex = this.focusedOptionIndex !== -1 ? this.focusedOptionIndex : this.autoOptionFocus ? this.findFirstFocusedOptionIndex() : this.findSelectedOptionIndex();\n            this.autoUpdateModel();\n            this.$emit('focus', event);\n        },\n        onListBlur(event) {\n            this.focused = false;\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n            this.searchValue = '';\n            this.$emit('blur', event);\n        },\n        onListKeyDown(event) {\n            const metaKey = event.metaKey || event.ctrlKey;\n\n            switch (event.code) {\n                case 'ArrowDown':\n                    this.onArrowDownKey(event);\n                    break;\n\n                case 'ArrowUp':\n                    this.onArrowUpKey(event);\n                    break;\n\n                case 'Home':\n                    this.onHomeKey(event);\n                    break;\n\n                case 'End':\n                    this.onEndKey(event);\n                    break;\n\n                case 'PageDown':\n                    this.onPageDownKey(event);\n                    break;\n\n                case 'PageUp':\n                    this.onPageUpKey(event);\n                    break;\n\n                case 'Enter':\n                case 'NumpadEnter':\n                case 'Space':\n                    this.onSpaceKey(event);\n                    break;\n\n                case 'Tab':\n                    //NOOP\n                    break;\n\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    this.onShiftKey(event);\n                    break;\n\n                default:\n                    if (this.multiple && event.code === 'KeyA' && metaKey) {\n                        const value = this.visibleOptions.filter((option) => this.isValidOption(option)).map((option) => this.getOptionValue(option));\n\n                        this.updateModel(event, value);\n\n                        event.preventDefault();\n                        break;\n                    }\n\n                    if (!metaKey && isPrintableCharacter(event.key)) {\n                        this.searchOptions(event, event.key);\n                        event.preventDefault();\n                    }\n\n                    break;\n            }\n        },\n        onOptionSelect(event, option, index = -1) {\n            if (this.disabled || this.isOptionDisabled(option)) {\n                return;\n            }\n\n            this.multiple ? this.onOptionSelectMultiple(event, option) : this.onOptionSelectSingle(event, option);\n            this.optionTouched = false;\n            index !== -1 && (this.focusedOptionIndex = index);\n        },\n        onOptionMouseDown(event, index) {\n            this.changeFocusedOptionIndex(event, index);\n        },\n        onOptionMouseMove(event, index) {\n            if (this.focusOnHover && this.focused) {\n                this.changeFocusedOptionIndex(event, index);\n            }\n        },\n        onOptionTouchEnd() {\n            if (this.disabled) {\n                return;\n            }\n\n            this.optionTouched = true;\n        },\n        onOptionDblClick(event, item) {\n            this.$emit('item-dblclick', {\n                originalEvent: event,\n                value: item\n            });\n            this.$emit('option-dblclick', {\n                originalEvent: event,\n                value: item\n            });\n        },\n        onOptionSelectSingle(event, option) {\n            let selected = this.isSelected(option);\n            let valueChanged = false;\n            let value = null;\n            let metaSelection = this.optionTouched ? false : this.metaKeySelection;\n\n            if (metaSelection) {\n                let metaKey = event && (event.metaKey || event.ctrlKey);\n\n                if (selected) {\n                    if (metaKey) {\n                        value = null;\n                        valueChanged = true;\n                    }\n                } else {\n                    value = this.getOptionValue(option);\n                    valueChanged = true;\n                }\n            } else {\n                value = selected ? null : this.getOptionValue(option);\n                valueChanged = true;\n            }\n\n            if (valueChanged) {\n                this.updateModel(event, value);\n            }\n        },\n        onOptionSelectMultiple(event, option) {\n            let selected = this.isSelected(option);\n            let value = null;\n            let metaSelection = this.optionTouched ? false : this.metaKeySelection;\n\n            if (metaSelection) {\n                let metaKey = event.metaKey || event.ctrlKey;\n\n                if (selected) {\n                    value = metaKey ? this.removeOption(option) : [this.getOptionValue(option)];\n                } else {\n                    value = metaKey ? this.d_value || [] : [];\n                    value = [...value, this.getOptionValue(option)];\n                }\n            } else {\n                value = selected ? this.removeOption(option) : [...(this.d_value || []), this.getOptionValue(option)];\n            }\n\n            this.updateModel(event, value);\n        },\n        onOptionSelectRange(event, start = -1, end = -1) {\n            start === -1 && (start = this.findNearestSelectedOptionIndex(end, true));\n            end === -1 && (end = this.findNearestSelectedOptionIndex(start));\n\n            if (start !== -1 && end !== -1) {\n                const rangeStart = Math.min(start, end);\n                const rangeEnd = Math.max(start, end);\n                const value = this.visibleOptions\n                    .slice(rangeStart, rangeEnd + 1)\n                    .filter((option) => this.isValidOption(option))\n                    .map((option) => this.getOptionValue(option));\n\n                this.updateModel(event, value);\n            }\n        },\n        onFilterChange(event) {\n            this.$emit('filter', { originalEvent: event, value: event.target.value, filterValue: this.visibleOptions });\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n        },\n        onFilterBlur() {\n            this.focusedOptionIndex = this.startRangeIndex = -1;\n        },\n        onFilterKeyDown(event) {\n            switch (event.code) {\n                case 'ArrowDown':\n                    this.onArrowDownKey(event);\n                    break;\n\n                case 'ArrowUp':\n                    this.onArrowUpKey(event);\n                    break;\n\n                case 'ArrowLeft':\n                case 'ArrowRight':\n                    this.onArrowLeftKey(event, true);\n                    break;\n\n                case 'Home':\n                    this.onHomeKey(event, true);\n                    break;\n\n                case 'End':\n                    this.onEndKey(event, true);\n                    break;\n\n                case 'Enter':\n                case 'NumpadEnter':\n                    this.onEnterKey(event);\n                    break;\n\n                case 'ShiftLeft':\n                case 'ShiftRight':\n                    this.onShiftKey(event);\n                    break;\n\n                default:\n                    break;\n            }\n        },\n        onArrowDownKey(event) {\n            const optionIndex = this.focusedOptionIndex !== -1 ? this.findNextOptionIndex(this.focusedOptionIndex) : this.findFirstFocusedOptionIndex();\n\n            if (this.multiple && event.shiftKey) {\n                this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n            }\n\n            this.changeFocusedOptionIndex(event, optionIndex);\n            event.preventDefault();\n        },\n        onArrowUpKey(event) {\n            const optionIndex = this.focusedOptionIndex !== -1 ? this.findPrevOptionIndex(this.focusedOptionIndex) : this.findLastFocusedOptionIndex();\n\n            if (this.multiple && event.shiftKey) {\n                this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n            }\n\n            this.changeFocusedOptionIndex(event, optionIndex);\n            event.preventDefault();\n        },\n        onArrowLeftKey(event, pressedInInputText = false) {\n            pressedInInputText && (this.focusedOptionIndex = -1);\n        },\n        onHomeKey(event, pressedInInputText = false) {\n            if (pressedInInputText) {\n                const target = event.currentTarget;\n\n                if (event.shiftKey) {\n                    target.setSelectionRange(0, event.target.selectionStart);\n                } else {\n                    target.setSelectionRange(0, 0);\n                    this.focusedOptionIndex = -1;\n                }\n            } else {\n                let metaKey = event.metaKey || event.ctrlKey;\n                let optionIndex = this.findFirstOptionIndex();\n\n                if (this.multiple && event.shiftKey && metaKey) {\n                    this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n                }\n\n                this.changeFocusedOptionIndex(event, optionIndex);\n            }\n\n            event.preventDefault();\n        },\n        onEndKey(event, pressedInInputText = false) {\n            if (pressedInInputText) {\n                const target = event.currentTarget;\n\n                if (event.shiftKey) {\n                    target.setSelectionRange(event.target.selectionStart, target.value.length);\n                } else {\n                    const len = target.value.length;\n\n                    target.setSelectionRange(len, len);\n                    this.focusedOptionIndex = -1;\n                }\n            } else {\n                let metaKey = event.metaKey || event.ctrlKey;\n                let optionIndex = this.findLastOptionIndex();\n\n                if (this.multiple && event.shiftKey && metaKey) {\n                    this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n                }\n\n                this.changeFocusedOptionIndex(event, optionIndex);\n            }\n\n            event.preventDefault();\n        },\n        onPageUpKey(event) {\n            this.scrollInView(0);\n            event.preventDefault();\n        },\n        onPageDownKey(event) {\n            this.scrollInView(this.visibleOptions.length - 1);\n            event.preventDefault();\n        },\n        onEnterKey(event) {\n            if (this.focusedOptionIndex !== -1) {\n                if (this.multiple && event.shiftKey) this.onOptionSelectRange(event, this.focusedOptionIndex);\n                else this.onOptionSelect(event, this.visibleOptions[this.focusedOptionIndex]);\n            }\n        },\n        onSpaceKey(event) {\n            event.preventDefault();\n            this.onEnterKey(event);\n        },\n        onShiftKey() {\n            this.startRangeIndex = this.focusedOptionIndex;\n        },\n        isOptionMatched(option) {\n            return this.isValidOption(option) && typeof this.getOptionLabel(option) === 'string' && this.getOptionLabel(option)?.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale));\n        },\n        isValidOption(option) {\n            return isNotEmpty(option) && !(this.isOptionDisabled(option) || this.isOptionGroup(option));\n        },\n        isValidSelectedOption(option) {\n            return this.isValidOption(option) && this.isSelected(option);\n        },\n        isEquals(value1, value2) {\n            return equals(value1, value2, this.equalityKey);\n        },\n        isSelected(option) {\n            const optionValue = this.getOptionValue(option);\n\n            if (this.multiple) return (this.d_value || []).some((value) => this.isEquals(value, optionValue));\n            else return this.isEquals(this.d_value, optionValue);\n        },\n        findFirstOptionIndex() {\n            return this.visibleOptions.findIndex((option) => this.isValidOption(option));\n        },\n        findLastOptionIndex() {\n            return findLastIndex(this.visibleOptions, (option) => this.isValidOption(option));\n        },\n        findNextOptionIndex(index) {\n            const matchedOptionIndex = index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex((option) => this.isValidOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : index;\n        },\n        findPrevOptionIndex(index) {\n            const matchedOptionIndex = index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), (option) => this.isValidOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n        },\n        findSelectedOptionIndex() {\n            if (this.$filled) {\n                if (this.multiple) {\n                    for (let index = this.d_value.length - 1; index >= 0; index--) {\n                        const value = this.d_value[index];\n                        const matchedOptionIndex = this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option) && this.isEquals(value, this.getOptionValue(option)));\n\n                        if (matchedOptionIndex > -1) return matchedOptionIndex;\n                    }\n                } else {\n                    return this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option));\n                }\n            }\n\n            return -1;\n        },\n        findFirstSelectedOptionIndex() {\n            return this.$filled ? this.visibleOptions.findIndex((option) => this.isValidSelectedOption(option)) : -1;\n        },\n        findLastSelectedOptionIndex() {\n            return this.$filled ? findLastIndex(this.visibleOptions, (option) => this.isValidSelectedOption(option)) : -1;\n        },\n        findNextSelectedOptionIndex(index) {\n            const matchedOptionIndex = this.$filled && index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex((option) => this.isValidSelectedOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : -1;\n        },\n        findPrevSelectedOptionIndex(index) {\n            const matchedOptionIndex = this.$filled && index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), (option) => this.isValidSelectedOption(option)) : -1;\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : -1;\n        },\n        findNearestSelectedOptionIndex(index, firstCheckUp = false) {\n            let matchedOptionIndex = -1;\n\n            if (this.$filled) {\n                if (firstCheckUp) {\n                    matchedOptionIndex = this.findPrevSelectedOptionIndex(index);\n                    matchedOptionIndex = matchedOptionIndex === -1 ? this.findNextSelectedOptionIndex(index) : matchedOptionIndex;\n                } else {\n                    matchedOptionIndex = this.findNextSelectedOptionIndex(index);\n                    matchedOptionIndex = matchedOptionIndex === -1 ? this.findPrevSelectedOptionIndex(index) : matchedOptionIndex;\n                }\n            }\n\n            return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n        },\n        findFirstFocusedOptionIndex() {\n            const selectedIndex = this.findFirstSelectedOptionIndex();\n\n            return selectedIndex < 0 ? this.findFirstOptionIndex() : selectedIndex;\n        },\n        findLastFocusedOptionIndex() {\n            const selectedIndex = this.findLastSelectedOptionIndex();\n\n            return selectedIndex < 0 ? this.findLastOptionIndex() : selectedIndex;\n        },\n        searchOptions(event, char) {\n            this.searchValue = (this.searchValue || '') + char;\n\n            let optionIndex = -1;\n\n            if (isNotEmpty(this.searchValue)) {\n                if (this.focusedOptionIndex !== -1) {\n                    optionIndex = this.visibleOptions.slice(this.focusedOptionIndex).findIndex((option) => this.isOptionMatched(option));\n                    optionIndex = optionIndex === -1 ? this.visibleOptions.slice(0, this.focusedOptionIndex).findIndex((option) => this.isOptionMatched(option)) : optionIndex + this.focusedOptionIndex;\n                } else {\n                    optionIndex = this.visibleOptions.findIndex((option) => this.isOptionMatched(option));\n                }\n\n                if (optionIndex === -1 && this.focusedOptionIndex === -1) {\n                    optionIndex = this.findFirstFocusedOptionIndex();\n                }\n\n                if (optionIndex !== -1) {\n                    this.changeFocusedOptionIndex(event, optionIndex);\n                }\n            }\n\n            if (this.searchTimeout) {\n                clearTimeout(this.searchTimeout);\n            }\n\n            this.searchTimeout = setTimeout(() => {\n                this.searchValue = '';\n                this.searchTimeout = null;\n            }, 500);\n        },\n        removeOption(option) {\n            return this.d_value.filter((val) => !equals(val, this.getOptionValue(option), this.equalityKey));\n        },\n        changeFocusedOptionIndex(event, index) {\n            if (this.focusedOptionIndex !== index) {\n                this.focusedOptionIndex = index;\n                this.scrollInView();\n\n                if (this.selectOnFocus && !this.multiple) {\n                    this.onOptionSelect(event, this.visibleOptions[index]);\n                }\n            }\n        },\n        scrollInView(index = -1) {\n            this.$nextTick(() => {\n                const id = index !== -1 ? `${this.$id}_${index}` : this.focusedOptionId;\n                const element = findSingle(this.list, `li[id=\"${id}\"]`);\n\n                if (element) {\n                    element.scrollIntoView && element.scrollIntoView({ block: 'nearest', inline: 'nearest', behavior: 'smooth' });\n                } else if (!this.virtualScrollerDisabled) {\n                    this.virtualScroller && this.virtualScroller.scrollToIndex(index !== -1 ? index : this.focusedOptionIndex);\n                }\n            });\n        },\n        autoUpdateModel() {\n            if (this.selectOnFocus && this.autoOptionFocus && !this.$filled && !this.multiple && this.focused) {\n                this.focusedOptionIndex = this.findFirstFocusedOptionIndex();\n                this.onOptionSelect(null, this.visibleOptions[this.focusedOptionIndex]);\n            }\n        },\n        updateModel(event, value) {\n            this.writeValue(value, event);\n            this.$emit('change', { originalEvent: event, value });\n        },\n        listRef(el, contentRef) {\n            this.list = el;\n            contentRef && contentRef(el); // For VirtualScroller\n        },\n        virtualScrollerRef(el) {\n            this.virtualScroller = el;\n        }\n    },\n    computed: {\n        optionsListFlat() {\n            return this.filterValue ? FilterService.filter(this.options, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : this.options;\n        },\n        optionsListGroup() {\n            const filteredOptions = [];\n\n            (this.options || []).forEach((optionGroup) => {\n                const optionGroupChildren = this.getOptionGroupChildren(optionGroup) || [];\n                const filteredChildren = this.filterValue ? FilterService.filter(optionGroupChildren, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : optionGroupChildren;\n\n                if (filteredChildren?.length) {\n                    filteredOptions.push({ optionGroup, group: true }, ...filteredChildren);\n                }\n            });\n\n            return filteredOptions;\n        },\n        visibleOptions() {\n            return this.optionGroupLabel ? this.optionsListGroup : this.optionsListFlat;\n        },\n        // @deprecated use $filled instead\n        hasSelectedOption() {\n            return isNotEmpty(this.d_value);\n        },\n        equalityKey() {\n            return this.optionValue ? null : this.dataKey;\n        },\n        searchFields() {\n            return this.filterFields || [this.optionLabel];\n        },\n        filterResultMessageText() {\n            return isNotEmpty(this.visibleOptions) ? this.filterMessageText.replaceAll('{0}', this.visibleOptions.length) : this.emptyFilterMessageText;\n        },\n        filterMessageText() {\n            return this.filterMessage || this.$primevue.config.locale.searchMessage || '';\n        },\n        emptyFilterMessageText() {\n            return this.emptyFilterMessage || this.$primevue.config.locale.emptySearchMessage || this.$primevue.config.locale.emptyFilterMessage || '';\n        },\n        emptyMessageText() {\n            return this.emptyMessage || this.$primevue.config.locale.emptyMessage || '';\n        },\n        selectionMessageText() {\n            return this.selectionMessage || this.$primevue.config.locale.selectionMessage || '';\n        },\n        emptySelectionMessageText() {\n            return this.emptySelectionMessage || this.$primevue.config.locale.emptySelectionMessage || '';\n        },\n        selectedMessageText() {\n            return this.$filled ? this.selectionMessageText.replaceAll('{0}', this.multiple ? this.d_value.length : '1') : this.emptySelectionMessageText;\n        },\n        focusedOptionId() {\n            return this.focusedOptionIndex !== -1 ? `${this.$id}_${this.focusedOptionIndex}` : null;\n        },\n        ariaSetSize() {\n            return this.visibleOptions.filter((option) => !this.isOptionGroup(option)).length;\n        },\n        virtualScrollerDisabled() {\n            return !this.virtualScrollerOptions;\n        }\n    },\n    directives: {\n        ripple: Ripple\n    },\n    components: {\n        InputText,\n        VirtualScroller,\n        InputIcon,\n        IconField,\n        SearchIcon,\n        CheckIcon,\n        BlankIcon\n    }\n};\n</script>\n"],"names":["name","BaseEditableHolder","props","options","Array","optionLabel","optionValue","optionDisabled","optionGroupLabel","optionGroupChildren","listStyle","scrollHeight","type","String","dataKey","multiple","Boolean","metaKeySelection","filter","filterPlaceholder","filterLocale","filterMatchMode","filterFields","virtualScrollerOptions","Object","autoOptionFocus","selectOnFocus","focusOnHover","highlightOnSelect","checkmark","filterMessage","selectionMessage","emptySelectionMessage","emptyFilterMessage","emptyMessage","filterIcon","undefined","striped","tabindex","Number","ariaLabel","ariaLabelledby","style","ListboxStyle","provide","$pcListbox","$parentInstance","BaseListbox","inheritAttrs","emits","list","virtualScroller","optionTouched","startRangeIndex","searchTimeout","searchValue","data","filterValue","focused","focusedOptionIndex","watch","autoUpdateModel","mounted","methods","getOptionIndex","index","fn","virtualScrollerDisabled","getOptionLabel","option","resolveFieldData","getOptionValue","getOptionRenderKey","getPTOptions","itemOptions","key","ptm","context","selected","isSelected","disabled","isOptionDisabled","isOptionGroup","optionGroup","group","getOptionGroupLabel","getOptionGroupChildren","getAriaPosInset","_this","visibleOptions","slice","length","onFirstHiddenFocus","focus","firstFocusableEl","getFirstFocusableElement","$el","$refs","lastHiddenFocusableElement","tabIndex","isElement","firstHiddenFocusableElement","onLastHiddenFocus","event","relatedTarget","onFocusout","contains","onListFocus","findFirstFocusedOptionIndex","findSelectedOptionIndex","$emit","onListBlur","onListKeyDown","_this2","metaKey","ctrlKey","code","onArrowDownKey","onArrowUpKey","onHomeKey","onEndKey","onPageDownKey","onPageUpKey","onSpaceKey","onShiftKey","value","isValidOption","map","updateModel","preventDefault","isPrintableCharacter","searchOptions","onOptionSelect","arguments","onOptionSelectMultiple","onOptionSelectSingle","onOptionMouseDown","changeFocusedOptionIndex","onOptionMouseMove","onOptionTouchEnd","onOptionDblClick","item","originalEvent","valueChanged","metaSelection","removeOption","d_value","concat","_toConsumableArray","onOptionSelectRange","_this3","start","end","findNearestSelectedOptionIndex","rangeStart","Math","min","rangeEnd","max","onFilterChange","target","onFilterBlur","onFilterKeyDown","onArrowLeftKey","onEnterKey","optionIndex","findNextOptionIndex","shiftKey","findPrevOptionIndex","findLastFocusedOptionIndex","pressedInInputText","currentTarget","setSelectionRange","selectionStart","findFirstOptionIndex","len","findLastOptionIndex","scrollInView","isOptionMatched","_this$getOptionLabel","toLocaleLowerCase","startsWith","isNotEmpty","isValidSelectedOption","isEquals","value1","value2","equals","equalityKey","_this4","some","_this5","findIndex","_this6","findLastIndex","_this7","matchedOptionIndex","_this8","_this9","$filled","_loop","v","_ret","findFirstSelectedOptionIndex","_this10","findLastSelectedOptionIndex","_this11","findNextSelectedOptionIndex","_this12","findPrevSelectedOptionIndex","_this13","firstCheckUp","selectedIndex","char","_this14","clearTimeout","setTimeout","_this15","val","_this16","$nextTick","id","$id","focusedOptionId","element","findSingle","scrollIntoView","block","inline","behavior","scrollToIndex","writeValue","listRef","el","contentRef","virtualScrollerRef","computed","optionsListFlat","FilterService","searchFields","optionsListGroup","_this17","filteredOptions","forEach","filteredChildren","push","apply","hasSelectedOption","filterResultMessageText","filterMessageText","replaceAll","emptyFilterMessageText","$primevue","config","locale","searchMessage","emptySearchMessage","emptyMessageText","selectionMessageText","emptySelectionMessageText","selectedMessageText","ariaSetSize","_this18","directives","ripple","Ripple","components","InputText","VirtualScroller","InputIcon","IconField","SearchIcon","CheckIcon","BlankIcon","_openBlock","_createElementBlock","_mergeProps","_ctx","cx","$options","ptmi","_createElementVNode","ref","role","onFocus","$slots","header","_renderSlot","_createVNode","_component_IconField","unstyled","pt","_component_InputText","$data","$event","placeholder","autocomplete","onInput","onBlur","onKeydown","_component_InputIcon","_createBlock","_component_SearchIcon","_component_VirtualScroller","items","height","content","_withCtx","_ref","styleClass","getItemOptions","contentStyle","itemSize","_Fragment","_renderList","i","_withDirectives","onClick","onMousedown","onMousemove","onTouchend","onDblclick","_component_CheckIcon","_component_BlankIcon","_createTextVNode","_toDisplayString","loader","_ref2"],"mappings":"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"}